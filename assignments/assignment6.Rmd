
---
output: 
  html_document:
  pdf_document: default
  word_document: default
title: "Assignment 6: Visualization - Aesthetic Mapping"
---

***How to do it?***: 

- Open the Rmarkdown file of this assignment ([link](assignment6.Rmd)) in Rstudio. 

- Right under each **question**, insert  a code chunk (you can use the hotkey `Ctrl + Alt + I` to add a code chunk) and code the solution for the question. 

- `Knit` the rmarkdown file (hotkey: `Ctrl + Alt + K`) to export an html.  

-  Publish the html file to your Githiub Page. 

***Submission***: Submit the link on Github of the assignment to Canvas.

```{r setup, include=FALSE}
knitr::opts_chunk$set(message = FALSE)
```

-------

### Questions on Your Selected Data

Choose a dataset and produce the following types of plots and comment on each plot. Plots should be meaningful. If you use the data we used in class, make sure the plots are not the same as the ones in the slides. 

-------

1. For one continuous variable:

- Density

- Histogram 

- Boxplot

-------

2. For one categorical variable

- Barplot

-------

3. For one two continuous variables

- Scatter Plot

- Line Plot

- Smooth Plot

-------

4. For one continuous + one categorical variables

- Density

- BoxPlot

-------

5. For two categorical variables: barplot

-------

### Questions on Covid Vaccination Data

In this section of questions, we will use  the Covid19 vaccination data for the US. The data and data dictionary can be found at the below link:

- [Data](https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations-by-manufacturer.csv)


```{r}
library(tidyverse)

df <- read_csv('https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations-by-manufacturer.csv')
```

1. `Geom_point` makes scatter plots, which plot two numeric (or Date) variables. A third categorical variable is often brought in for color. For example, we can compare different vaccine types used in the US by

```{r}
df %>% filter(location=='United States') %>% 
  ggplot()+geom_point(mapping = aes(x = date, 
                                    y = total_vaccinations, 
                                    color = vaccine))
```

Do the follows. 

  - Use `geom_point` to compare the vaccines used by date in Argentina in 2022. 
  
  - Change `geom_point` to `geom_line` in the above codes to have the corresponding line plots. 

2. Sometime we need to do some calculations on the data before plotting. For example, the follows is to compare the total vaccines (including all types of vaccines) by date between the US and the EU

```{r}
# the total vaccines (including all types of vaccines) by date
d1 <- df %>% filter(location %in% c('United States', 'European Union')) %>% group_by(date, location) %>% summarise(total_vac2=sum(total_vaccinations, na.rm=TRUE))

# Plot
d1 %>% ggplot()+geom_point(mapping=aes(x=date, y=total_vac2, color=location))
```

Notice, the above codes could be piped in one 

```{r}
df %>% filter(location %in% c('United States', 'European Union')) %>% group_by(date, location) %>% summarise(total_vac2=sum(total_vaccinations, na.rm=TRUE)) %>% ggplot()+geom_point(mapping=aes(x=date, y=total_vac2, color=location))
```


Do the follows. 

- Use `geom_point` compare the total vaccines (including all types of vaccines) by date between countries/regions in Asia
- Use `geom_point` compare the total vaccines (including all types of vaccines) by date between countries/regions in South America in 2021



